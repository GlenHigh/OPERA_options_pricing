import osimport timefrom selenium import webdriverfrom bs4 import BeautifulSoupfrom selenium.webdriver.chrome.options import Optionsimport osimport datetimeos.chdir('/Users/glenhigh/Scrapping/OPERA_options_pricing')#Kill all headless driversos.system("pkill -f \"(chrome)?(--headless)\"")chrome_options = Options()chrome_options.add_argument("--headless")driver = webdriver.Chrome(executable_path='/Users/glenhigh/Scrapping/OPERA_options_pricing/Scrapers/chromedriver', options=chrome_options)yahoo_tickers = ["MSFT","AAPL","PFE"]ticker= "AAPL"day="21/01/2022"maturity = f"{day} 01:00:00"unix_maturity = int(datetime.datetime.strptime(maturity, '%d/%m/%Y %H:%M:%S').strftime("%s"))myURL = f"https://finance.yahoo.com/quote/{ticker}/options?date={unix_maturity}&p={ticker}"print(myURL)driver.get(myURL)############# /!\###  ATTENTION NEEDED: warning##########  here cookies popups and terms blabla is annoying, need to get rid of it first:#we first need to accept terms and conditions of popup window, to do so just click button's xpathdriver.find_elements_by_xpath('//*[@id="consent-page"]/div/div/div/form/div[2]/div[2]/button[1]')[0].click()#we can now start working on actual call/put quotescontent = driver.page_sourcesoup = BeautifulSoup(content,features="html.parser")############# /!\###  ATTENTION NEEDED: TODO##########  class names are to that day hypothetical, needs more invests (Bd(0) in call table class name but not put???)#get call and put tables contentscall_table = soup.find("table", {'class': 'calls W(100%) Pos(r) Bd(0) Pt(0) list-options'})put_table = soup.find("table", {'class': 'puts W(100%) Pos(r) list-options'})call_table_body = call_table.find('tbody')put_table_body = put_table.find('tbody')#call_table = soup.find_all('div',{'class': 'W(100%) '})#call_table = soup.find_all("div",class_= 'W(100%) ')#call_table_body = call_table.find('tbody')print(call_table_body)print("Closing driver...")driver.closeprint("Driver closed")os.system("pkill -f \"(chrome)?(--headless)\"")